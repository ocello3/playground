import{T as s,o as i,P as o,r as d,G as c}from"./tools-365e5452.js";import{E as n}from"./Effect-11912271.js";class t extends s{constructor(){super(i(t.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=i(t.getDefaults(),arguments,["delayTime","maxDelay"]),a=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(a,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(a),this.delayTime=new o({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),d(this,"delayTime")}static getDefaults(){return Object.assign(s.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class h extends n{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new c({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,d(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(n.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}export{t as D,h as F};
