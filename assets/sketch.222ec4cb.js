import{s as d,D as b,t as g,c as i,d as m}from"./tools.d7fb69e7.js";import{d as h}from"./debug.bea9d25f.js";import"./index.6cf80624.js";const y=()=>({rate:.5}),D=(t,a)=>{a.pages[1].addInput(t,"rate",{step:.1,min:.1,max:1})},w=(t,a)=>{const{rate:s}=t;return{radius:a*.5*s}},P=(t,a,s)=>{const{rate:e}=a,r={...t};return r.radius=s*.5*e,r},G=(t,a)=>{const{radius:s}=t;a.push(),a.circle(100,100,s),a.pop()},n={setParams:y,setGui:D,setData:w,updateData:P,draw:G},x=()=>({maxVolume:-10}),S=(t,a)=>{a.pages[2].addInput(t,"maxVolume",{step:1,min:-60,max:0})},p=async()=>{const t=await d();return console.log(b.get()),{se:t}};await p();const f=(t,a)=>{console.log(t.se.get()),console.log(a)},l={setParams:x,setGui:S,setSynth:p,playSynth:f},v=t=>{const a=g.setSize("sketch");let s=i.setController();const e=n.setParams(),r=l.setParams();let o,c;t.setup=async()=>{t.createCanvas(a,a),o=n.setData(e,a),c=await l.setSynth();const u=i.setGui(t,s,c.se,!1);n.setGui(e,u),l.setGui(r,u),t.noLoop(),m(t,a)},t.draw=()=>{c===void 0&&t.noLoop(),h(o),t.background(255),i.updateController(t,s),o=n.updateData(o,e,a),n.draw(o,t),m(t,a)}};export{v as sketch};
