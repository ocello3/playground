import{s as y,D,t as l,c as u,d as b}from"./tools.da51e69e.js";import{p as P}from"./index.dcb73747.js";const m=()=>({rate:.5}),w=m(),x=(t,a)=>{a.pages[1].addInput(t,"rate",{step:.1,min:.1,max:1})},p=(t,a)=>{const{rate:s}=t;return{radius:a*.5*s,center:new P.Vector().set(a*.5,a*.5)}};p(w,100);const G=(t,a,s)=>{const{rate:e}=a,o={...t};return o.radius=s*.5*e,o},f=(t,a)=>{const{radius:s,center:e}=t;a.push(),a.circle(e.x,e.y,s),a.pop()},n={setParams:m,setGui:x,setData:p,updateData:G,draw:f},v=()=>({maxVolume:-10}),S=(t,a)=>{a.pages[2].addInput(t,"maxVolume",{step:1,min:-60,max:0})},V=()=>{const t=new y(400,"sine","square");return t.mute=!0,t.toDestination().start(),D.mute=!0,t},d=()=>({oscillator:V()});d();const _=(t,a,s,e)=>{const o=l.map(t.radius,0,e*.5,-30,s.maxVolume),r=l.map(t.radius,0,e*.5,100,600);a.oscillator.volume.value=o,a.oscillator.frequency.value=r},c={setParams:v,setGui:S,setSynth:d,playSynth:_},q=t=>{const a=l.setSize("sketch");let s=u.setController();const e=n.setParams(),o=c.setParams();let r=n.setData(e,a),h=c.setSynth();t.setup=()=>{t.createCanvas(a,a);const i=u.setGui(t,s,!0,!1);n.setGui(e,i),c.setGui(o,i),t.noLoop()},t.draw=()=>{t.background(255),u.updateController(t,s),r=n.updateData(r,e,a),n.draw(r,t),b(t,a),c.playSynth(r,h,o,a)}};export{q as sketch};
